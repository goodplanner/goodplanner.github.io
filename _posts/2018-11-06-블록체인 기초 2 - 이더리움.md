---
layout: post
title: 블록체인 기초 2 - 이더리움
---

# 관련링크

* 가상화폐 종류
https://coinmarketcap.com/

* 비트코인 탐색기
https://www.blockchain.com/ko/explorer

* 이더리움 탐색기
https://etherscan.io/

# 소식

## 블록체인 뉴스
### 나쁜소식
* https://www.the4thwave.co.kr/index.php/2018/05/30/blc05303/
* http://moneys.mt.co.kr/news/mwView.php?no=2018091218208032086&code=&MGTSN
* http://www.thebchain.co.kr/news/articleView.html?idxno=2311

### 좋은소식
* https://news.naver.com/main/read.nhn?mode=LSD&mid=sec&sid1=105&oid=277&aid=0004348753&referer=coinsosik
* http://www.techholic.co.kr/news/articleView.html?idxno=179041&referer=coinsosik
* https://news.naver.com/main/read.nhn?mode=LSD&mid=sec&sid1=101&oid=011&aid=0003435172&referer=coinsosik

## remix - 현재  ethereum의 스마트컨트랙트 개발 IDE
* https://remix.ethereum.org/#optimize=false&version=soljson-v0.4.25+commit.59dbf8f1.js
 * hundred save echo swap master wagon scrub old special language pause hint

# 이더리움 제네시스블록

https://gist.github.com/dickolsson/e652b3d0e7bee55aa0a582d8a03900bf

genesis.json
<pre><code>
{
  "config": {
    "chainId": 33,
    "homesteadBlock": 0,
    "eip155Block": 0,  155번 적용 개선된 하트포크번호
    "eip158Block": 0   158번 적용 개선된 하트포크번호 
  },
  "nonce": "0x0000000000000033", 
  "timestamp": "0x00",  타임스태프 0x00 으로
  "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "gasLimit": "0x8000000", 
  "difficulty": "0x100",
  "mixhash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "coinbase": "0x3333333333333333333333333333333333333333",  채굴자주소 - 채굴자에게 보상주는.
  "alloc": {}  초기시에 이더할당
}
</code></pre>


# 이더리움 초기화 - 제네시스블록과 함께
```
mkdir data_testnet
cd data_testnet

cp ../genesis.json .
geth --datadir /home/user01/data_testnet/ init /home/user01/data_testnet/genesis.json
...초기화됨

편리하게 폴더구조보기
sudo apt-get install tree
tree
```

# 로그보기 ~~~
```
putty 창 하나 더 띄워서
cd data_testnet
touch geth.log
tail -f geth.log
```

# 이더리움 geth  실행 (privateNetwork)
_rpcaddr 를 0.0.0.0 으로 하면 해킹됨.... 자기 IP 를 넣을 것 !!!_
```
geth --identity "PrivateNetwork" --datadir "/home/user01/data_testnet/" --port "30303" --rpc --rpcaddr localhost --rpcport "8545" --rpccorsdomain "*" --nodiscover --networkid 1900 --rpcapi "db,eth,net,web3" console 2>> /home/user01/data_testnet/geth.log
```

# http://remix.ethereum.org

# 계정

* 사용자계정
* 스마트컨트렉트 계정 (계약서계정) : 회사가 ICO 할때,.. 받는 송금 계정도 이곳으로 해서.... 금액이 충족치 않으면 반환되게....

## 계정만들기
```
> personal.newAccount("pass0")
"0x626ab731f5ef58476338246303726bc0de8bdf50"
> personal.newAccount("pass1")
"0x84cc3f6ed4918fd64e2e3bb16d4fc89540d26fb2"
```

## 계정확인
```
> eth.accounts
["0x626ab731f5ef58476338246303726bc0de8bdf50", "0x84cc3f6ed4918fd64e2e3bb16d4fc89540d26fb2"]
```

## 계정밸런스 확인
```
> eth.getBalance(eth.accounts[0])
0
> eth.getBalance(eth.accounts[1])
0
> eth.getBalance(eth.coinbase)  채굴자 : coinbase
0
```

## 이더리움 단위 및 환산
http://ezio.tistory.com/108

## 화폐단위 예 (암호화폐에 기여한 사람들의 이름)
- wei : 0~18자리 ... 암호화폐 개념정립
- Sazbo : 스마트컨트렉트 개념 발표자
- Finney : 비트코인을 처음으로 받음 사람, 스마트컨트렉트 취약점
- ether : 가스


## 채굴
```
miner.start()

로그름 보면
NFO [11-07|13:21:28] Updated mining threads                   threads=0
INFO [11-07|13:21:28] Transaction pool price threshold updated price=18000000000
INFO [11-07|13:21:28] Starting mining operation
INFO [11-07|13:21:28] Commit new mining work                   number=1 txs=0 uncles=0 elapsed=355.43µs
INFO [11-07|13:21:32] Generating DAG in progress               epoch=0 percentage=0 elapsed=3.066s
INFO [11-07|13:21:35] Generating DAG in progress               epoch=0 percentage=1 elapsed=6.257

시작시,... 전문 ASIC 를 막기위해, DAG 가짜블록을 30000 만들어 놓는다.

100% 되면 ... 채굴 시작 됨
...

INFO [11-07|13:27:59] Commit new mining work                   number=17 txs=0 uncles=0 elapsed=58.981µs
INFO [11-07|13:28:05] Generating DAG in progress               epoch=1 percentage=9  elapsed=1m17.339s
```

참고 : DAG 알로리즘으로.... 블록체인을 만들기도 함....
https://steemit.com/dag/@cryptodreamers/dag-dag-directed-acyclic-graph

2000개의 암호화폐 알고리즘 들..... 아직, 수학적으로 안전한지.. 증명된것은 거의 없는.......

### 채굴 후,... 이더 확인 ... 계속 채굴됨으로 계속 들어옴.
```
> eth.getBalance(eth.coinbase)
140000000000000000000

0 인 경우... (채굴이 안되는 경우)
cd .ethash
이 아래에 있는 것 모두 지우고.... 다시 채굴...
```

### 채굴한 블록수
```
> eth.blockNumber
43
```

### 마이너중지
```
> miner.stop()
```

### wei -> ether 확인
```
>  eth.getBalance(eth.coinbase)
215000000000000000000

> web3.fromWei(eth.getBalance(eth.coinbase), "ether")
215
```

## 이더 송금












