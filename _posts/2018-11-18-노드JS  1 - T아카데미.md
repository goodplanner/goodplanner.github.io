---
layout: post
title: 노드JS1 - T아카데미
---

# 비동기 특징으로 사용하면 좋은 분야
- 실시간 소셜 네트워크 서비스
- 데이터 중심 서비스
- IoT기기연동

# 아키텍처

![아키텍처](https://raw.githubusercontent.com/goodplanner/goodplanner.github.io/master/_posts/nodejs/20181118130050.png)
- V8엔진
- 이벤트루프
- 쓰레드 풀 (내부적으로는 멀티쓰레드로 동작 ~)
- 비동기로....다중쓰레드 실행은 누가 먼저 종료될지 알수 없음. 

## 비동기 함수모양

### 비동기식 함수 구현/사용 
<pre><code>
함수 구현
function add(i,j,callback) {  // 비동기함수는 값을 리턴을 하지 않고, 
                              // 호출될때 리턴(포인터)될 함수(=콜백함수) ... 가 호출. (회출되게 됨.)
  var result = i+j
  callback(result)
}
</code></pre> 

```
함수 사용은


add(1,2,function(result) { // 인자, 결과값을 받을 함수
  console.log("Result:", result);
}

### 파일읽기 예 ... 파일을 읽은 결과를 콜백함수가 받아 처리

fs.readFile('textfile.txt'. 'utf8'. function(err, text) {   // 첫인자에 에러값이 들어옴.
  console.log("Read Files Asysn', teext);
});

### 에러처리 : 동작을 하다가... 비정상 시,.. 에러 발생.... 콜백의 첫인자를 에러로 사용함.
callbackFunc(arg1, arc2, function(error, result) {   // 콜백호출될때, ... 에러값, 결과값이...
  if(error) {
    // 에러처리
    return;
  }
  // 정상처리
}
```

# 노드js 설치
```
노드 버전
node -v
node --help // 도움말
-e, --eval, -p, --print  // 실행 후 결과출력
-c, --check // 실행하지 않고,... 코드 검사만
-r, --require // 필요한 모듈을 미리 로딩


IDE : vscode, webstorm 등

```

## 명령라인으로 실행 (REPL 이라고 함.)
```
node 실행
> var str = "test";
undefined
> str
'test'
> str + '!!!'
'test!!!'
> .help
> .exit
```

## js 실행
```
node helloworld.js // js 는 생략가능함.

```

# 도큐먼트

## 모듈
- node.js 는 간단한 구조로 만들어져 있고,
- 필요한 모듈을 로딩해서 사용. (모듈이란,... 라이브러리 패키지 임.)
- 결국, 모듈사용 메뉴얼르 잘 볼수 있어야 함.
## 도큐먼드 보기
- node.js
- DOCS https://nodejs.org/ko/docs/
- API https://nodejs.org/dist/latest-v10.x/docs/api/util.html
* API 에는 안정도가 있음. (2,3 을 사용할 것)
 - 0 : Deprecated 사용중단
 - 1 : Experiemental 테스트
 - 2 : Stable 안정
 - 3 : Locked 매우안정 







