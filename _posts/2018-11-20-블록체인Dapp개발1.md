ìë£Œì‹¤
Desktop ì‚¬ìš©ì - http://192.168.0.105/

Notebook(ë¬´ì„ )-  Gstep_3F
http://172.17.138.113:8080/share/

   ìµœ   ê¸° ìš©
   bluewind2005@naver.com
   bluewind2006@gmail.com



* ë¸”ë¡ì²´ì¸ Dapp ê°œë°œ ê³¼ì •
 -ì´ë”ë¦¬ì›€ ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ê°œë°œ

 1) ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ê°œìš”, í™˜ê²½ êµ¬ì¶•
   - ì´ë”ë¦¬ì›€ private

 2) ì†”ë¦¬ë””í‹° ì–¸ì–´ë¥¼ ì´ìš©í•œ ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ê°œë°œ
  - Dapp

 3) ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ë³´ì•ˆ
   - ì·¨ì•½ì 
   - ë³´ì•ˆíŒ¨í„´
   - ë³´ì•ˆë„êµ¬

  
* USBì˜ "Dappê°œë°œ" í´ë” 
  C:\ì— ë³µì‚¬
 - DappDemo.zip ì••ì¶•í•´ì œ

https://etherscan.io/

Desktop í™˜ê²½
- VirtualBox : 5.0.28
ì‹œìŠ¤í…œê³„ì •:  user01/qwer1234


* Private Ethereum Network êµ¬ì¶•
 Desktop -192.168.0.105
 ìì‹ ì˜ Desktop ipì— ë’¤ìë¦¬ì— 100

1) ì¶”ê°€ëœ ëœì¹´ë“œ ipë¶€ì—¬

$sudo ifconfig enp0s8 192.168.0.236 netmask 255.255.255.0 up

$sudo route add default gw 192.168.0.1


2) ì˜†ì‚¬ëŒì˜ Desktopê³¼ vm ì— í†µì‹ 
  ping 192.168.0.105
  ping 192.168.0.205
  
  
* ipfs ë¸”ë¡ì²´ì¸ ìŠ¤í† ë¦¬ì§€ - íŠ¸ë Œë“œ
  - https://www.google.co.kr/search?q=web%2Bipfs&oq=web%2Bipfs

# 
## í…ŒìŠ¤íŠ¸ë„·
* https://ropsten.etherscan.io/

0ë²ˆë¸”ë¡ë§Œë“¤ê¸°
json
êµ¬ê¸€ê²€ìƒ‰ genesis.json

mkdir myDapp
cd myDapp
vi genesis.jon


```
{
  "config": { # geth1.6 ì´ì „ ë²„ì „ì´ ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ì— ì ‘ì†ì‹œ ë°œìƒë  ìˆ˜ ìˆëŠ” ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ ì„¤ì •í•˜ëŠ” ì˜µì…˜ê°’ (í•˜ë“œí¬í¬ì˜í–¥)
    "chainId": 33, # ë¸”ë¡ì²´ì¸ ì‹ë³„í•œëŠ ê°’ (ì˜ˆì•½ëœ ê°’)
    "homesteadBlock": 0, # í¬í¬ëœ ë¸”ë¡ì˜ ë¸”ë¡ë²ˆí˜¸, ì›ì¡°ë¸”ë¡ìœ¼ë¡œ ë¶€í„° homestead ë²„ì „ì´ë¯€ë¡œ 0
    "eip155Block": 0,  # eip Ethereum Imporvement Proposal(EIP)
    "eip158Block": 0   # EIP155ê°€ ì ìš©ë˜ì–´ í•˜ë“œí¬í¬ëœ ë¸”ë¡œë²ˆí˜¸ 0 (https://github.com/ethereum/EIPs/blob/master/EIPS/eip-155.md)    
  },
  "nonce": "0x0000000000000033",  # ë‚œì´ë„ëª©í‘œê°’, PoW, ì‘ì—…ì¦ˆëª…ì—ì„œ ì°¾ì•„ì•¼í• ê²ƒ
  "timestamp": "0x00", # ë¸”ë¡ìƒì„±ì‹œê°„
  "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "gasLimit": "0x8000000", # ì´ë¸”ëŸ­ì˜ ìµœëŒ€í—ˆìš©ê°€ìŠ¤ê°’
  "difficulty": "0x100", # 
  "mixhash": "0x0000000000000000000000000000000000000000000000000000000000000000", # nonceì™€ ê°™ì´ ì‚¬ìš©ë˜ëŠ” ì˜µì…˜ìœ¼ë¡œ, ì‘ì—…ì¦ëª…ì„ ìœ„í•´ì„œ ì¶©ë¶„í•œ ì–‘ì˜ ê³„ì‚°ì„ í–ˆìŒì„ ì¦ëª…í•˜ëŠ” ì˜µì…˜
  "coinbase": "0x3333333333333333333333333333333333333333", # ì±„êµ´ì. ì±„êµ´ ì„±ê³µì‹œì— ì–»ê²Œë˜ëŠ” ë³´ìƒê¸ˆì„ ë°›ìŒ
  "alloc": {} # ë¯¸ë¦¬ íŠ¹ì • ê³„ì •ì„ ìƒì„±í•˜ì—¬, ì •í•´ì§„ ì´ë”ë¥¼ ì„¤ì •í•˜ëŠ” ì˜µì…˜. (ê³„ì •ìƒì„±ì¹˜ ì´ˆê¸°í• ë‹¹ ì´ë”ê°’)
}
```
* geth 1.6 ë¬¸ì œ
   - ì´ë”ë¦¬ì›€ ë¡œë“œë§µì„ ê°€ì§€ê³  ì—…ë°ì´íŠ¸ ì‹¤í–‰
   - ì´ë”ë¦¬ì›€ ICO (2014/8) -> í”„ë¡ í‹°ì–´ (2015/7) -> í™ˆìŠ¤í…Œì´ë“œ(2016/3) ==> The DAO í•´í‚¹ ==> í•˜ë“œí¬í¬ (ì´ë”ë¦¬ì›€, ì´ë”ë¦¬ì›€ í´ë˜ì‹)
                           -> ë©”íŠ¸ë¡œí´ë¦¬ìŠ¤ -> ë¹„ì”í‹°ì›€(2017/10) -> ì»¨ìŠ¤íƒ„í‹°ë…¸í”Œ (2019/1) -> ì„¸ë ˆë‹ˆí‹°
                     

* ì´ë”ë¦¬ì›€. ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë ‰ìŠ¤...  ê°€ìŠ¤ë¹„ ê³„ì‚°. ... ì±„êµ´ìëŠ” ì´ê²ƒìœ¼ ë³´ê³  ì±„êµ´
* EOS ëŠ” ê°œë°œìì ì²˜ìŒë¶€í„° ê°€ìŠ¤ë¹„ë¥¼ êµ¬ë§¤í•˜ê³ ,... ì¼ë°˜ì‚¬ìš©ìëŠ” ê·¸ëƒ¥ ì‚¬ìš©
* nonce:difficulty : ì»´í“¨í„°ì— ì£¼ì‚¬ìœ„ í”„ë¡œê·¸ë¨ (50)
                     ì˜¤ëŠ˜ì€ ëª©í‘œ = 49ê°œ ì£¼ì‚¬ìœ„ 6, í•œê°œëŠ” 1
   - nonce : ë‚´ê°€ 1ê°œë¶€í„° ì—´ì‹¬íˆ (PoWork), ... 100,000,000ë§Œì— ì°¾ìŒ. (nonce)

# ì œë„¤ì‹œìŠ¤ ë¸”ë¡ ì´ˆê¸°í™”
```
geth --datadir /home/user01/myDapp/ init /home/user01/myDapp/genesis.json

INFO [11-20|13:46:55] Maximum peer count                       ETH=25 LES=0 tota           l=25
INFO [11-20|13:46:55] Allocated cache and file handles         database=/home/us           er01/myDapp/geth/chaindata cache=16 handles=16
INFO [11-20|13:46:55] Writing custom genesis block
INFO [11-20|13:46:55] Persisted trie from memory database      nodes=0 size=0.00           B time=1.735Âµs gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [11-20|13:46:55] Successfully wrote genesis state         database=chaindat           a                          hash=5704d0â€¦9bc5b0
INFO [11-20|13:46:55] Allocated cache and file handles         database=/home/us           er01/myDapp/geth/lightchaindata cache=16 handles=16
INFO [11-20|13:46:55] Writing custom genesis block
INFO [11-20|13:46:55] Persisted trie from memory database      nodes=0 size=0.00           B time=1.546Âµs gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [11-20|13:46:55] Successfully wrote genesis state         database=lightcha           indata                          hash=5704d0â€¦9bc5b0
```
sudo apt-get install tree
tree
```
â”œâ”€â”€ genesis.json
â”œâ”€â”€ geth
â”‚Â Â  â”œâ”€â”€ chaindata
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 000001.log
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CURRENT
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LOCK
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LOG
â”‚Â Â  â”‚Â Â  â””â”€â”€ MANIFEST-000000
â”‚Â Â  â””â”€â”€ lightchaindata
â”‚Â Â      â”œâ”€â”€ 000001.log
â”‚Â Â      â”œâ”€â”€ CURRENT
â”‚Â Â      â”œâ”€â”€ LOCK
â”‚Â Â      â”œâ”€â”€ LOG
â”‚Â Â      â””â”€â”€ MANIFEST-000000
â””â”€â”€ keystore

4 directories, 11 files

```
# í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ë¡œ ì‹¤í–‰
```         
geth --identity "PrivateNetwork" --datadir /home/user01/myDapp/  --port "30303"  --rpc --rpcaddr 192.168.0.236 --rpcport 8545 --rpccorsdomain "*" --nodiscover --networkid 1900  --rpcapi "admin, db, eth,net, web3,miner" console 2>>/home/user01/myDapp/geth.log

Welcome to the Geth JavaScript console!

instance: Geth/PrivateNetwork/v1.8.2-stable-b8b9f7f4/linux-amd64/go1.9.4
modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0
>
```

# ê³„ì •ìƒì„±
* EOA ê³„ì • : ìœ ì €ê³„ì •
* CA ê³„ì • : ì»¨íŠ¸ë ‰íŠ¸ê³„ì •
```
> personal.newAccount("pass0")
"0xe35a3ee35be987897e964f4502f3bf5754014b06"
> personal.newAccount("pass1")
"0x6a95b23feb2cec0e75a4231676e3b932bffd5aed"
> personal.newAccount("pass2")
"0xfa97124cefb48302f73c62c4f5adaccf897cf723"
> personal.newAccount("pass3")
"0x0f890824226dabb985386910d39191b75d9cca49"
```

http://remix.ethereum.org  (https ëŒ€ì‹  http ë¡œ ì ‘ì†)
run -> web3 provider
http://192.168.0.236:8545

```
tree
...

â””â”€â”€ keystore
    â”œâ”€â”€ UTC--2018-11-20T05-17-28.074908028Z--e35a3ee35be987897e964f4502f3bf5754014b06
    â”œâ”€â”€ UTC--2018-11-20T05-17-41.203167457Z--6a95b23feb2cec0e75a4231676e3b932bffd5aed
    â”œâ”€â”€ UTC--2018-11-20T05-18-04.531527783Z--fa97124cefb48302f73c62c4f5adaccf897cf723
    â””â”€â”€ UTC--2018-11-20T05-18-08.563939989Z--0f890824226dabb985386910d39191b75d9cca49
```

```
> eth.accounts
["0xe35a3ee35be987897e964f4502f3bf5754014b06", "0x6a95b23feb2cec0e75a4231676e3b932bffd5aed", "0xfa97124cefb48302f73c62c4f5adaccf897cf723", "0x0f890824226dabb985386910d39191b75d9cca49"]


> eth.getBalance
function()
> eth.getBalance(eth.accounts[0])
0

> eth.blockNumber
0

> miner.start()
null
```

geth.log í™•ì¸

```
INFO [11-20|14:28:18] Successfully sealed new block            number=3 hash=178c88â€¦0a0590
INFO [11-20|14:28:18] ğŸ”¨ mined potential block                  number=3 hash=178c88â€¦0a0590
INFO [11-20|14:28:18] Commit new mining work                   number=4 txs=0 uncles=0 elap             sed=89.943Âµs

> eth.blockNumber
439
> eth.getBalance(eth.accounts[0])
2.23e+21

> web3.fromWei(eth.getBalance(eth.accounts[0]),"ether")
2575
```

```
????

geth --identity "PrivateNetwork" --datadir /home/user01/myDapp/  --port "30303"  --rpc --rpcaddr 192.168.0.236 --rpcport 8545 --rpccorsdomain "*" --nodiscover --networkid 1900  --rpcapi "admin, db, eth,net, web3,miner" console 2>>/home/user01/myDapp/geth.log &

ì ‘ì†ì€...

```

ë…¸ë“œ : ê³„ì •ìƒì„±, ì±„êµ´, ê²€ì¦ ë“±ì„ ìˆ˜í–‰í•˜ëŠ” ë‹¨ë…ì˜ ì´ë”ì‹œìŠ¤í…œ ... ì´ì²´ ë“±
      - person
Peer : Nodeê°€ P2Pë¡œ ì—°ê²°ë˜ëŠ” í˜•íƒœ
      - friend



#### ë…¸ë“œ ì¶”ê°€
```
cd 
mkdir myether_node
cp ../myDapp/genesis.json  .
geth --datadir /home/user01/myether_node/ init /home/user01/myether_node/genesis.json

.... Successfully ....

nohup geth --networkid 4649 --nodiscover --datadir /home/user01/myether_node/ --rpc --rpcaddr "192.168.0.236" --rpcport 8545 --rpccorsdomain "*" --rpcapi "admin,db,eth,debug,miner,net,shh,txpool,personal,web3" --verbosity 5 2>> /home/user01/myether_node/geth.log &

/myether_node$ tail -f geth.log
.
.
.
DEBUG[11-20|15:21:00] Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s
DEBUG[11-20|15:21:20] Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s
.
.
.

í´ë¼ì´ì–¸íŠ¸ ì ‘ì†Œ

user01@ubuntu:~$ geth attach rpc:http://192.168.0.236:8545
Welcome to the Geth JavaScript console!

instance: Geth/v1.8.2-stable-b8b9f7f4/linux-amd64/go1.9.4
 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

>

ê³„ì •ë§Œë“¤ê¸°

> personal.newAccount("pass0")
"0xf633b84ad9d44c857b223f15e3c459346e4e5af4"
>  personal.newAccount("pass1")
"0x64d38512ca50da5f4411ddcbdeb25135c4750ebb"
> personal.newAccount("pass2")
"0x7232f18b1549aba9d75b6e46a3e27963b750d91a"
> personal.newAccount("pass3")
"0xdac9f9c0c03d2253614185d4f33b4fb62a088b78"

> eth.accounts
["0xf633b84ad9d44c857b223f15e3c459346e4e5af4", "0x64d38512ca50da5f4411ddcbdeb25135c4750ebb", "0x7232f18b1549aba9d75b6e46a3e27963b750d91a", "0xdac9f9c0c03d2253614185d4f33b4fb62a088b78"]
>

> eth.getBalance(eth.accounts[0]) ì±„êµ´ìì„.
0

ì±„êµ´
> miner.start()
null

ë°¸ëŸ°ìŠ¤ í™•ì¸

> eth.getBalance(eth.accounts[0])
965000000000000000000
> web3.fromWei(eth.getBalance(eth.accounts[0]),"ether")
1020



> miner.stop()
true

ì†¡ê¸ˆ
ëˆ„ê°€->ëˆ„êµ¬ì—ê²Œ
ì „ì†¡í• ë•Œ.... ê¸°ë³¸ì ìœ¼ë¡œ ë³¸ì¸ê³„ì •ì— ì†¡ê¸ˆë½ì´ ê±¸ë ¤ìˆìŒ..... ê·¸ë˜ì„œ.. ì†¡ê¸ˆì‹œë§ˆë‹¤ ì–¸ë½í•´ì•¼ í•¨.

> personal.unlockAccount(eth.accounts[0])
Unlock account 0xf633b84ad9d44c857b223f15e3c459346e4e5af4
Passphrase:
true

> eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1], value:web3.toWei(10,"ether")})
"0xfd5c463cf21c91f69ab464875213bafd5e87d4a9c9f402d58c9a0628733c4c80"

ê²°ê³¼ê°’ì€ íŠ¸ë Œì ì…˜í•´ì‰¬
ì´ìƒíƒœëŠ” íŠ¸ë Œì ì…˜ pending ìƒíƒœë¡œ....
ì±„êµ´ìê°€ ë¸”ë¡ë§Œë“¤ë•Œ,... íŠ¸ë Œì ì…˜ì„ ë‹´ì•„.....  ë¸”ë¡ìƒì„±ë˜ë©´,... íŠ¸ë Œì ì…˜ ì‹¤í–‰ë¨.

pending ì¤‘ì¸ íŠ¸ë Œì ì…˜í™•ì¸
> eth.pendingTransactions
[{
    blockHash: null,
    blockNumber: null,
    from: "0xf633b84ad9d44c857b223f15e3c459346e4e5af4",
    gas: 90000,
    gasPrice: 18000000000,
    hash: "0xfd5c463cf21c91f69ab464875213bafd5e87d4a9c9f402d58c9a0628733c4c80",
    input: "0x",
    nonce: 0,
    r: "0x8a17d2480863e552bf6be846497bd637bb14027dba3fbad2ea52058a00cd0337",
    s: "0x5d149671887d253515e9897f18ecd0679f9cc899e7603c8fd7565ad650bd7fbb",
    to: "0x64d38512ca50da5f4411ddcbdeb25135c4750ebb",
    transactionIndex: 0,
    v: "0x66",
    value: 10000000000000000000
}]




```

# ë…¸ë“œ ì—°ê²°í•˜ê¸°
Node#1 (193)
-
Node#2 (256) : Node1ì— ì—°ê²°ì‹œë„
Node#3 (214) : Node1ì— ì—°ê²°ì‹œë„

```

Node#1

> admin.nodeInfo.enode
enode://59a2fb45e88afac86370f305d0d373ac78bcb95d67cdf03f96edcca7ac3cfce43ec6b8ea04873c988fe3f3de00aa51f69527a373f964308b71172ab82c80f217@[::]30303?discport=0

[::] ì„ ---> ìœ¼ë¡œ ëŒ€ì²´ @192.168.0.193:30303

Node#2,3 ì—ì„œëŠ”
> admin.addPeer("enode://59a2fb45e88afac86370f305d0d373ac78bcb95d67cdf03f96edcca7ac3cfce43ec6b8ea04873c988fe3f3de00aa51f69527a373f964308b71172ab82c80f217@192.168.0.193:30303?discport=0")
true

> net.peerCount
1


> admin.peers
[{
    caps: ["eth/62", "eth/63"],
    id: "59a2fb45e88afac86370f305d0d373ac78bcb95d67cdf03f96edcca7ac3cfce43ec6b8ea04873c988fe3f3de00aa51f69527a373f964308b71172ab82c80f217",
    name: "Geth/PrivateNetwork/v1.8.2-stable-b8b9f7f4/linux-amd64/go1.9.4",
    network: {
      inbound: false,
      localAddress: "192.168.0.236:57952",
      remoteAddress: "192.168.0.193:30303",
      static: true,
      trusted: false
    },
    protocols: {
      eth: {
        difficulty: 88312923,
        head: "0xdb479dde4b6b97cf86e4bfa0f84361da06bc5f4fc08243e92eaa099a82c7ea04",
        version: 63
      }
    }
}]
```

ê°ì ì±„êµ´í–ˆì–´ë„...
ì—°ê²°ë˜ë©´,..... ê¸´ ì²´ì¸ìœ¼ë¡œ ë™ê¸°í™” ë¨.

# MIST ì‚¬ìš©
```
Ethereum-Wallet-win64-0-11-0 ì••ì¶•í’€ê³ 


ì‹¤í–‰
c:\Ethereum-Wallet-win64-0-11-0

"Ethereum Wallet.exe" --rpc http://192.168.0.236:8545
```

* remix ë„ ì˜¤í”„ë¼ì¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.














  
  
  
  
  
  
  
  
  
  
  
  
