#
http://game.mk.co.kr/view.php?year=2018&no=728576
https://tokenpost.kr/article-4932

https://tokenpost.kr/article-4933

https://www.blockinpress.com/archives/10722
https://www.blockmedia.co.kr/archives/53756

https://tokenpost.kr/article-4591
https://tokenpost.kr/article-4287


https://tokenpost.kr/article-4301


# 가나쉬 활용

# Mist 활용

# 트러플 활용 truffle Dapp 개발 및 배포
1)
truffle init

Downloading...


Unpacking...
Setting up...
Unbox successful. Sweet!

Commands:

  Compile:        truffle compile
  Migrate:        truffle migrate
  Test contracts: truffle test

user01@ubuntu:~/truffle_dapp$ tree
.
├── contracts
│   └── Migrations.sol
├── migrations
│   └── 1_initial_migration.js
├── test
├── truffle-config.js
└── truffle.js

# react 를 받으면,.... 웹개발까지 모두
truffle unbox react
- https://truffleframework.com/boxes

# 여러 네크워크를 등록해 놓고,... 편리하게 배포
truffle.js


# 컨트렉트 생성
truffle create contract PersonalInfo

├── contracts
│   ├── Migrations.sol
│   └── PersonalInfo.sol

user01@ubuntu:~/truffle_dapp/contracts$ vi PersonalInfo.sol
pragma solidity ^0.4.22;


contract PersonalInfo {
  constructor() {
  }
}
내용 만들기
pragma solidity ^0.4.22;


contract PersonalInfo {
  constructor() {
  }
  string fName;
  uint age;

  function setInstructor(string _fName, uint _age) public {
      fName = _fName;
      age = _age;
  }

  function getInstructor() public view returns(string, uint) {
      return(fName, age);

  }

}


# 컨트랙트 배포
truffle create migration deploy_person_Info
==> xxx.deploy_person_Info.js 생성
├── migrations
│   ├── 1542875677_deploy_person__info.js

user01@ubuntu:~/truffle_dapp/migrations$ more 1542875677_deploy_person__info.js
module.exports = function(deployer) {
  // Use deployer to state migration tasks.
};

vi 로 수정
var PersonalInfo = artifacts.require("./PersonalInfo.sol");   // 여러 솔리디티 읽어와서 ... 한번에 배포

module.exports = function(deployer) {
  // Use deployer to state migration tasks.
  deployer.deploy(PersonalInfo);
};

# 컴파일
- 솔리디티 코드 문법 검사
- build  폴더내에 .... contract 폴더 생성되면서 ABI 코드가 만들어짐 (json 포멧)

truffle compile

Compiling ./contracts/Migrations.sol...
Compiling ./contracts/PersonalInfo.sol...

Compilation warnings encountered:

/home/user01/truffle_dapp/contracts/PersonalInfo.sol:5:3: Warning: No visibility specified. Defaulting to "public".
  constructor() {
  ^ (Relevant source part starts here and spans across multiple lines).

Writing artifacts to ./build/contracts

에러체크...됨

수정후

pragma solidity ^0.4.22;


contract PersonalInfo {

  string fName;
  uint age;

  function setInstructor(string _fName, uint _age) public {
      fName = _fName;
      age = _age;
  }

  function getInstructor() public view returns(string, uint) {
      return(fName, age);

  }

}

truffle compile

user01@ubuntu:~/truffle_dapp$ truffle compile
Compiling ./contracts/PersonalInfo.sol...
Writing artifacts to ./build/contracts
.
├── build
│   └── contracts
│       ├── Migrations.json
│       └── PersonalInfo.json


# 배포할 네트쿼크 설정
vi truffle.js

/*
 * NB: since truffle-hdwallet-provider 0.0.5 you must wrap HDWallet providers in a
 * function when declaring them. Failure to do so will cause commands to hang. ex:
 * ```
 * mainnet: {
 *     provider: function() {
 *       return new HDWalletProvider(mnemonic, 'https://mainnet.infura.io/<infura-key>')
 *     },
 *     network_id: '1',
 *     gas: 4500000,
 *     gasPrice: 10000000000,
 *   },
 */

module.exports = {
  // See <http://truffleframework.com/docs/advanced/configuration>
  // to customize your Truffle configuration!
};

파일에 네크워크 추가
module.exports = {
  // See <http://truffleframework.com/docs/advanced/configuration>
  // to customize your Truffle configuration!
  networks:{
    development:{
      host:'127.0.0.1',
      port:7545
      network_id:"*"
    },
    outTestNet:{
      host:'192.168.0.237',
      port:8545
      network_id:"*"
    }
};


# 배포 
truffle migrate --network outTestNet

# geth 동작, unlock, 채굴
user01@ubuntu:~/myether_node$ nohup geth --identity "PrivateNetwork1" --networkid 1900 --nodiscover --datadir "/home/user01/myether_node/"  --port "30303" --rpc --rpcaddr 0.0.0.0 --rpcport "8545" --rpccorsdomain  "*" --rpcapi "admin,db,eth,debug,miner,net,shh,txpool,personal,web3" --verbosity 5 2>>/home/user01/myether_node/geth.log &

geth attach rpc:http://192.168.0.237:8545

> personal.unlockAccount(eth.accounts[0])
Unlock account 0xf633b84ad9d44c857b223f15e3c459346e4e5af4
Passphrase:
true




